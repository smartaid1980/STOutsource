<!-- widget grid -->
<section id="widget-grid">
  <!-- row -->
  <div class="row">
    <!-- NEW WIDGET START -->
    <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      <!-- Widget ID (each widget will need unique ID)-->
      <!-- Query Condition -->
      <div
        id="query-condition-widget"
        class="jarviswidget jarviswidget-color-darken"
        data-widget-editbutton="false"
        data-widget-deletebutton="false"
      >
        <header>
          <span class="widget-icon"> <i class="fa fa-edit"></i> </span>
          <h2>查詢</h2>
        </header>
        <!-- widget div-->
        <div>
          <!-- widget content -->
          <div class="widget-body no-padding">
            <form
              id="query-condition-form"
              class="smart-form"
              novalidate="novalidate"
            >
              <fieldset>
                <div class="row">
                  <div class="col col-lg-2 col-md-6 col-sm-12">
                    <section>
                      <label class="label st-required">材料庫</label>
                      <label class="select select-multiple">
                        <select
                          name="mstock_name"
                          multiple
                          class="required"
                        ></select>
                      </label>
                    </section>
                  </div>
                  <div class="col col-lg-2 col-md-6 col-sm-12">
                    <section>
                      <label class="label">機台</label>
                      <label class="select select-multiple">
                        <select
                          id="machine_id-select"
                          name="machine_id"
                          multiple
                        ></select>
                      </label>
                    </section>
                  </div>
                  <div class="col col-lg-2 col-md-6 col-sm-12">
                    <section>
                      <label class="label st-required">領刀日期起始</label>
                      <label class="input">
                        <i class="icon-append fa fa-calendar"></i>
                        <input
                          type="text"
                          name="startDate"
                          id="start-date"
                          class="required"
                        />
                      </label>
                    </section>
                    <section>
                      <label class="label st-required">領刀日期結束</label>
                      <label class="input">
                        <i class="icon-append fa fa-calendar"></i>
                        <input
                          type="text"
                          name="endDate"
                          id="end-date"
                          class="required"
                        />
                      </label>
                    </section>
                  </div>
                  <div class="col col-lg-2 col-md-6 col-sm-12">
                    <section>
                      <label class="label">領刀單號</label>
                      <label class="input">
                        <input name="tool_use_no" type="text" />
                      </label>
                    </section>
                    <section>
                      <label class="label">領刀原因</label>
                      <div class="inline-group">
                        <label class="checkbox">
                          <input
                            type="checkbox"
                            name="use_reason"
                            value="11"
                            checked
                          />
                          <i></i>校車
                        </label>
                        <label class="checkbox">
                          <input
                            type="checkbox"
                            name="use_reason"
                            value="12"
                            checked
                          />
                          <i></i>維修
                        </label>
                      </div>
                    </section>
                  </div>
                  <div class="col col-lg-2 col-md-6 col-sm-12">
                    <section>
                      <label class="label">生產指令</label>
                      <label class="input">
                        <input name="order_id" type="text" />
                      </label>
                    </section>
                    <section>
                      <label class="label">管編</label>
                      <label class="input">
                        <input name="product_id" type="text" />
                      </label>
                    </section>
                  </div>
                  <div class="col col-lg-2 col-md-6 col-sm-12">
                    <section>
                      <label class="label">領刀人員</label>
                      <label class="select">
                        <select name="create_by"></select>
                        <i></i>
                      </label>
                    </section>
                  </div>
                </div>
              </fieldset>
              <footer>
                <button id="submit-btn" class="btn btn-primary">
                  查詢
                </button>
              </footer>
            </form>
          </div>
          <!-- widget content END -->
        </div>
        <!-- widget div END -->
      </div>
      <!-- Query Condition END -->
      <div
        class="jarviswidget jarviswidget-color-darken"
        data-widget-editbutton="false"
        data-widget-deletebutton="false"
      >
        <header>
          <span class="widget-icon"> <i class="fa fa-edit"></i></span>
          <h2>量產類領刀單紀錄</h2>
        </header>
        <!-- widget div-->
        <div>
          <!-- widget edit box -->
          <div class="jarviswidget-editbox">
            <!-- This area used as dropdown edit box -->
          </div>
          <!-- end widget edit box -->
          <!-- widget content -->
          <div class="widget-body no-padding">
            <table
              id="query-result-table"
              class="table table-striped table-bordered table-hover"
              width="100%"
            >
              <thead>
                <tr>
                  <th class="hasinput" style="width: 10%;">
                    <input type="text" class="form-control" />
                  </th>
                  <th class="hasinput" style="width: 8%;">
                    <select class="form-control"></select>
                  </th>
                  <th class="hasinput" style="width: 10%;">
                    <input type="text" class="form-control" />
                  </th>
                  <th class="hasinput" style="width: 8%;">
                    <select class="form-control"></select>
                  </th>
                  <th class="hasinput" style="width: 10%;">
                    <input type="text" class="form-control" />
                  </th>
                  <th class="hasinput" style="width: 15%;">
                    <input type="text" class="form-control" />
                  </th>
                  <th class="hasinput" style="width: 15%;">
                    <input type="text" class="form-control" />
                  </th>
                  <th style="width: 8%;"></th>
                  <th class="hasinput" style="width: 8%;">
                    <select class="form-control"></select>
                  </th>
                </tr>
                <tr>
                  <th>領刀日期</th>
                  <th>機台編號</th>
                  <th>領刀單號</th>
                  <th>領刀原因</th>
                  <th>生產指令</th>
                  <th>管編</th>
                  <th>圖號</th>
                  <th>領刀明細</th>
                  <th>領刀人員</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
          <!-- widget content END -->
        </div>
        <!-- widget div END -->
      </div>
      <!-- detail DATATABLE END -->
      <div
        class="modal fade"
        data-step="1"
        data-backdrop="static"
        id="tool-use-modal"
        tabindex="-1"
        role="dialog"
        aria-hidden="true"
      >
        <div class="modal-dialog" style="">
          <div class="modal-content">
            <div class="modal-header">
              <!-- <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button> -->
              <h4 class="modal-title">
                <span id="tool-use-title"></span
                ><span id="tool-use-reason"></span>
              </h4>
            </div>
            <div class="modal-body">
              <div
                id="tool-use-info"
                class="step step-2 step-3 step-4 font-lg clearfix"
              >
                <span class="step step-2 step-3 step-4 col-lg-4"
                  >機台：<span data-column="machine_id"></span
                ></span>
                <span class="step step-2 step-3 step-4 col-lg-4"
                  >生產指令：<span data-column="order_id"></span
                ></span>
                <span class="step step-2 step-3 step-4 col-lg-4"
                  >管編：<span data-column="product_id"></span
                ></span>
                <span class="step step-2 step-3 step-4 col-lg-4"
                  >圖號：<span data-column="product_pid"></span
                ></span>
                <span class="step step-4 col-lg-4"
                  >領刀單號：<span data-column="tool_use_no"></span
                ></span>
                <span class="step step-3 step-4 col-lg-4"
                  >領刀日期：<span data-column="create_time"></span
                ></span>
                <span class="step step-3 step-4 col-lg-4"
                  >刀具履歷編號：<span data-column="tool_history_no"></span
                ></span>
                <span class="step step-4 col-lg-4"
                  >領刀人員：<span data-column="create_by"></span
                ></span>
              </div>
              <hr class="step step-2 step-3 step-4" />
              <form
                id="edit-use-reason-form"
                class="smart-form step step-1"
                novalidate="novalidate"
              >
                <fieldset>
                  <div class="row">
                    <section class="col col-xs-12 col-sm-12 col-md-12 col-lg-4">
                      <label class="label">領刀原因</label>
                      <label class="input">
                        <select name="use_reason" class="form-control"></select>
                      </label>
                    </section>
                    <section class="col col-xs-12 col-sm-12 col-md-12 col-lg-4">
                      <label class="label">機台</label>
                      <label class="input">
                        <select name="machine_id" class="form-control"></select>
                      </label>
                    </section>
                    <section class="col col-xs-12 col-sm-12 col-md-12 col-lg-4">
                      <label class="label">生產指令</label>
                      <label class="input">
                        <!-- <select name="order_id" class="form-control" ></select> -->
                        <input name="order_id" class="form-control" />
                      </label>
                    </section>
                  </div>
                  <div class="row">
                    <section class="col col-xs-12 col-sm-12 col-md-12 col-lg-4">
                      <label class="label">領刀人員</label>
                      <label class="input">
                        <select
                          disabled
                          name="create_by"
                          class="form-control"
                        ></select>
                      </label>
                    </section>
                    <section
                      class="col col-xs-12 col-sm-12 col-md-12 col-lg-4 hide"
                    >
                      <label class="label"
                        >維修通報時間(請先輸入生產指令)</label
                      >
                      <label class="input">
                        <select name="alarm_time" class="form-control"></select>
                      </label>
                    </section>
                  </div>
                </fieldset>
              </form>
              <form
                id="edit-tool-history-form"
                class="smart-form step step-2"
                novalidate="novalidate"
              >
                <header>刀具校車資訊</header>
                <fieldset>
                  <div class="row">
                    <section class="col col-xs-12 col-sm-12 col-md-12 col-lg-3">
                      <label class="label">主夾頭</label>
                      <label class="input">
                        <input
                          name="main_chuck"
                          class="form-control"
                          type="text"
                          placeholder="主夾頭"
                        />
                      </label>
                    </section>
                    <section class="col col-xs-12 col-sm-12 col-md-12 col-lg-3">
                      <label class="label">副夾頭</label>
                      <label class="input">
                        <input
                          name="second_chuck"
                          class="form-control"
                          type="text"
                          placeholder="副夾頭"
                        />
                      </label>
                    </section>
                    <section class="col col-xs-12 col-sm-12 col-md-12 col-lg-3">
                      <label class="label">程式號碼</label>
                      <label class="input">
                        <input
                          name="program_name"
                          class="form-control"
                          type="text"
                          placeholder="程式號碼"
                        />
                      </label>
                    </section>
                    <section class="col col-xs-12 col-sm-12 col-md-12 col-lg-3">
                      <label class="label">製程順序</label>
                      <label class="input">
                        <input
                          name="program_seq"
                          class="form-control"
                          type="text"
                          placeholder="製程順序"
                        />
                      </label>
                    </section>
                  </div>
                  <div class="row">
                    <section class="col col-xs-12 col-sm-12 col-md-12 col-lg-4">
                      <label class="label">加工秒數</label>
                      <label class="input">
                        <input
                          name="tool_ptime"
                          class="form-control"
                          type="text"
                          placeholder="加工秒數"
                        />
                      </label>
                    </section>
                    <section class="col col-xs-12 col-sm-12 col-md-12 col-lg-4">
                      <label class="label">材料條碼</label>
                      <label class="input">
                        <input
                          name="mat_code"
                          class="form-control"
                          type="text"
                          placeholder="材料條碼"
                        />
                      </label>
                    </section>
                    <section class="col col-xs-12 col-sm-12 col-md-12 col-lg-4">
                      <label class="label">生產注意事項</label>
                      <label class="input">
                        <input
                          name="produce_notice"
                          class="form-control"
                          type="text"
                          placeholder="生產注意事項"
                        />
                      </label>
                    </section>
                  </div>
                </fieldset>
              </form>
              <h3 class="step step-3 step-4">刀具領用項目</h3>
              <table
                id="tool-use-table"
                style="width: 1600px;"
                class="table table-striped table-bordered table-hover"
              >
                <thead>
                  <tr>
                    <th></th>
                    <th></th>
                    <th class="hasinput">
                      <select class="form-control"></select>
                    </th>
                    <th class="hasinput">
                      <select class="form-control"></select>
                    </th>
                    <th class="hasinput">
                      <select class="form-control"></select>
                    </th>
                    <th class="hasinput">
                      <input type="text" class="form-control" />
                    </th>
                    <th class="hasinput">
                      <select class="form-control"></select>
                    </th>
                    <th class="hasinput">
                      <select class="form-control"></select>
                    </th>
                    <th class="hasinput">
                      <input type="text" class="form-control" />
                    </th>
                    <th class="hasinput">
                      <select class="form-control"></select>
                    </th>
                    <th class="hasinput">
                      <select class="form-control"></select>
                    </th>
                    <th class="hasinput">
                      <input type="text" class="form-control" />
                    </th>
                    <th class="hasinput">
                      <select class="form-control"></select>
                    </th>
                    <th class="hasinput">
                      <input type="text" class="form-control" />
                    </th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                  </tr>

                  <tr>
                    <th>編輯</th>
                    <th>項目</th>
                    <th>維修原因</th>
                    <th>維修碼</th>
                    <th>刀具類型</th>
                    <th>刀具規格</th>
                    <th>刀具編碼</th>
                    <th>領刀種類</th>
                    <th>領刀數量</th>
                    <th>刀具堪用程度</th>
                    <th>廠商</th>
                    <th>進貨時間</th>
                    <th>儲位</th>
                    <th>庫存數</th>
                    <th>壽命備註</th>
                    <th>領刀備註</th>
                    <th>刀具使用後變更</th>
                    <th>新刀歸還儲位</th>
                    <th>刪除</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
              <div id="exception-tool-use-info"></div>
              <hr class="step step-3" />
              <h3 class="step step-3">刀具履歷</h3>
              <table
                id="tool-history-table"
                class="table table-striped table-bordered table-hover"
                width="100%"
              >
                <thead>
                  <tr>
                    <th class="hasinput" style="width: 8%;">
                      <select class="form-control"></select>
                    </th>
                    <th class="hasinput" style="width: 8%;">
                      <input type="text" class="form-control" />
                    </th>
                    <th class="hasinput" style="width: 8%;">
                      <select class="form-control"></select>
                    </th>
                    <th class="hasinput" style="width: 10%;">
                      <select class="form-control"></select>
                    </th>
                    <th class="hasinput" style="width: 8%;">
                      <select class="form-control"></select>
                    </th>
                    <th class="hasinput" style="width: 8%;">
                      <select class="form-control"></select>
                    </th>
                    <th class="hasinput" style="width: 8%;">
                      <input type="text" class="form-control" />
                    </th>
                    <th class="hasinput" style="width: 10%;">
                      <select class="form-control"></select>
                    </th>
                    <th class="hasinput" style="width: 10%;">
                      <input type="text" class="form-control" />
                    </th>
                    <th style="width: 10%;">
                      <input type="text" class="form-control" />
                    </th>
                    <th style="width: 5%;"></th>
                    <th style="width: 7%;"></th>
                    <th style="width: 7%;"></th>
                  </tr>
                  <tr>
                    <th>機台</th>
                    <th>程式號碼</th>
                    <th>刀具類型</th>
                    <th>刀具規格</th>
                    <th>刀具編碼</th>
                    <th>領刀種類</th>
                    <th>領刀數量</th>
                    <th>廠商</th>
                    <th>壽命備註</th>
                    <th>領刀備註</th>
                    <th>新增</th>
                    <th>刀具使用後變更</th>
                    <th class="changable-column">新刀歸還儲位</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-primary step step-4"
                id="download-tool-use-btn"
              >
                刀具履歷格式下載
              </button>
              <button
                type="button"
                class="btn btn-primary step step-4"
                id="edit-tool-use-btn"
              >
                修改
              </button>
              <button
                type="button"
                class="btn btn-default"
                id="cancel-edit-btn"
              >
                取消
              </button>
              <button type="button" class="btn btn-primary" id="update-btn">
                確定
              </button>
              <button type="button" class="btn btn-primary" id="next-step">
                下一步
              </button>
              <button
                type="button"
                class="btn btn-default step step-1 step-2 step-4"
                id="dismiss-modal-btn"
                data-dismiss="modal"
              >
                返回
              </button>
            </div>
          </div>
        </div>
      </div>
      <!-- Widget ID END -->
    </article>
    <!-- NEW WIDGET END -->
  </div>
  <!-- row END -->
</section>
<!-- end widget grid -->
<style>
  #cancel-edit-btn,
  #update-btn,
  .edit-mode #cancel-step,
  .edit-mode #download-tool-use-btn,
  .edit-mode #edit-tool-use-btn,
  .edit-mode #prev-step,
  .edit-mode #next-step,
  .edit-mode button[data-dismiss] {
    display: none;
  }
  .edit-mode #cancel-edit-btn,
  .edit-mode #update-btn {
    display: inline-block;
  }
  /* .tool-status-form {
    display: flex;
    justify-content: space-evenly;
  } */
  #tool-use-table tbody input[type='text'],
  #tool-use-table tbody select {
    width: 100%;
  }
  #search-info {
    display: flex;
    flex-flow: row wrap;
  }
  #search-info > span {
    margin-right: 10px;
  }
  #edit-record-form span.radio {
    padding-left: 0px;
  }
  #tool-use-table button.active,
  #tool-history-table button.active {
    color: #ccc;
    border-color: #aaa;
    background-color: #8f8f8f;
  }
  #tool-use-table th {
    white-space: nowrap;
  }
  .table-overflow-viewport {
    overflow: auto;
    clear: both;
  }
</style>
<script type="text/javascript">
  window.importPageScript()
</script>
