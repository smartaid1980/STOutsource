<section id="widget-grid">
  <div
    class="jarviswidget jarviswidget-color-darken data-widget-collapsed"
    data-widget-fullscreenbutton="false"
    data-widget-editbutton="false"
    data-widget-collapsed="false"
    data-widget-colorbutton="false"
    data-widget-deletebutton="false"
    data-widget-togglebutton="false"
  >
    <header>
      <span class="widget-icon"> <i class="fa fa-reorder"></i> </span>
      <h2>【<span id="plantAreaId"></span>】</h2>
      <!-- Edit -->
      <div class="widget-toolbar" role="menu">
        <a
          href="javascript:void(0);"
          class="btn bg-color-green txt-color-white stk-save"
          >Save</a
        >
      </div>
      <div class="widget-toolbar" role="menu">
        <a
          href="javascript:void(0);"
          class="btn bg-color-blue txt-color-white stk-load"
          >Load</a
        >
      </div>
      <div class="widget-toolbar" role="menu">
        <a
          href="javascript:void(0);"
          class="btn bg-color-red txt-color-white stk-upload"
          >Upload Image</a
        >
      </div>
      <div class="widget-toolbar" role="menu">
        <a
          href="javascript:void(0);"
          class="btn bg-color-orange txt-color-white stk-load-machines"
          >Load Machine</a
        >
      </div>
      <div class="widget-toolbar" role="menu">
        <a
          href="javascript:void(0);"
          class="btn bg-color-purple txt-color-white stk-clear-machines"
          >Clear Machines</a
        >
      </div>
      <div class="widget-toolbar" role="menu">
        <a
          href="javascript:void(0);"
          class="btn bg-color-greenDark txt-color-white stk-machines-image"
          data-value="true"
          >Show All Machines Image</a
        >
      </div>
    </header>

    <div class="tab-content padding-10">
      <div id="space">
        <div>
          <img
            class="bg"
            src="./app/EquipMonitor/img/production/production_line.png"
          />
        </div>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div
    id="load-modal"
    class="modal fade"
    tabindex="-1"
    role="dialog"
    aria-labelledby="remoteModalLabel"
    data-backdrop="false"
    data-keyboard="true"
    style="background-color: rgba(0, 0, 0, 0.5);"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-lg">
      <div class="modal-content" id="load-modal-content">
        <div class="modal-header">
          <h4 class="modal-title" style="float: left;">選擇欲載入廠區</h4>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-hidden="true"
          >
            &times;
          </button>
        </div>
        <div class="modal-body">
          <div class="widget-body">
            <div class="smart-form hide">
              <div class="row">
                <label class="label col col-2">輸入機台名稱 : </label>
                <section class="col col-3">
                  <label class="input">
                    <input
                      type="text"
                      id="machineName"
                      placeholder="machine name"
                    />
                  </label>
                </section>
                <section class="col col-2">
                  <div class="inline-group">
                    <label class="checkbox">
                      <input
                        type="checkbox"
                        value="all"
                        name="allCheck"
                      /><i></i>
                      <p>全選</p>
                    </label>
                  </div>
                </section>
              </div>
            </div>
            <table class="table table-striped table-forum">
              <tbody></tbody>
            </table>
            <div class="modal-footer">
              <button class="btn btn-primary" id="check-machine">確認</button>
              <button class="btn btn-default" data-dismiss="modal">關閉</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div
    id="upload-modal"
    class="modal fade"
    tabindex="-1"
    role="dialog"
    aria-labelledby="remoteModalLabel"
    data-backdrop="false"
    data-keyboard="true"
    style="background-color: rgba(0, 0, 0, 0.5);"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-lg">
      <div class="modal-content" id="upload-modal-content">
        <div class="modal-header">
          <h4 class="modal-title" style="float: left;">上傳背景圖</h4>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-hidden="true"
          >
            &times;
          </button>
        </div>
        <div class="modal-body">
          <div class="widget-body">
            <form action="" id="mydropzone"></form>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-default" data-dismiss="modal">關閉</button>
        </div>
      </div>
    </div>
  </div>
  <div
    id="upload-device-modal"
    class="modal fade"
    tabindex="-1"
    role="dialog"
    aria-labelledby="remoteModalLabel"
    data-backdrop="false"
    data-keyboard="true"
    style="background-color: rgba(0, 0, 0, 0.5);"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-lg">
      <div class="modal-content" id="upload-modal-content">
        <div class="modal-header">
          <h4 class="modal-title" style="float: left;">上傳機台圖檔</h4>
          <button
            type="button"
            class="close stk-close"
            data-dismiss="modal"
            aria-hidden="true"
          >
            &times;
          </button>
        </div>
        <div class="modal-body">
          <div class="smart-form" style="padding-bottom: 8px;">
            <label class="checkbox">
              <input type="checkbox" name="deviceImage" /><i></i>
              <p>使用機台圖片</p>
            </label>
          </div>
          <div class="widget-body">
            <form action="" id="devicedropzone"></form>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-default stk-close" data-dismiss="modal">
            關閉
          </button>
        </div>
      </div>
    </div>
  </div>
</section>
<style>
  #space {
    /* position: relative; */
    /* width: 100%; */
    display: flex;
    justify-content: center;
    margin: auto;
  }

  #space > div {
    position: relative;
  }

  #space > div:hover {
    background-color: rgba(196, 196, 196, 0.1);
  }

  #space .bg {
    display: block;
    margin: auto;
    max-width: 95%;
  }

  #space .device-info-position {
    position: absolute;
    top: -25px;
    left: 0;
    width: 350px;
    text-align: center;
  }

  #space .device-info-position label.left {
    padding-left: 10px;
  }

  #space .device-info-position.edit {
    top: -28px;
  }

  #space .device-info-position.edit p {
    display: none;
  }

  #space .device-info-position.edit input,
  #space .device-info-position.edit > label {
    display: inline-block;
  }

  #space .device-info-position p {
    margin: 0;
    width: 160px;
  }

  #space .device-info-position input {
    width: 96px;
    height: 25px !important;
    padding: 0px 0px 0px 7px;
    display: none;
  }

  #space .device-info-position > label {
    display: none;
  }

  #space .device {
    position: absolute;
    top: 0;
    left: 0;
    border: 1px solid #666;
    background: rgba(255, 255, 255, 0.8);
  }

  #space .device .device-title {
    text-align: center;
    padding: 0.5em;
    padding-bottom: 2.1em;
    background-color: #d3d3d3;
  }

  #space .device .device-title .text {
    font-weight: bold;
    cursor: default;
  }

  #space .device .device-title .toggle-btn {
    display: inline-block;
    width: 24px;
    height: 24px;
    position: relative;
    cursor: pointer;
    transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
    /* transform: rotate(45deg); */
    color: #000;
    opacity: 0.5;
  }

  #space .device .device-title .toggle-btn:hover {
    opacity: 1;
  }

  #space .device.toggle-close .device-title input,
  #space .device.toggle-close .device-title .icon {
    display: none;
  }

  #space .device.toggle-close:hover .device-title .icon {
    display: inline-block;
  }

  #space .device:hover {
    z-index: 1;
  }

  #space .device:hover .device-title,
  #space .device:hover .device-info-position p,
  #space .device:hover .device-info-position.edit {
    background-color: #eee;
  }

  #space .device.toggle-close {
    /* width: 130px; */
  }

  #space .device.toggle-close .device-title input[type='text'] {
    margin: 0;
    width: 60%;
  }

  #space .device.toggle-close .device-title .toggle-btn {
    width: 20px;
    height: 20px;
    transform-origin: center;
    transform: rotate(0deg);
    float: right;
  }

  #space .device .device-title .toggle-btn span {
    width: 12px;
    height: 12px;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    margin: auto;
  }

  #space .device.toggle-close .device-info-edit {
    display: none;
  }

  #space .device .device-title .stk-delete {
    float: right;
    margin-right: 6px;
  }

  #space .device.toggle-close .device-title .stk-delete {
    line-height: 17px;
  }

  #space .device .device-info-edit {
    float: left;
    margin: 0.3em;
    width: 357px;
  }

  #space .device .device-info-edit .value-head {
    padding: 0.25em 0.5em;
  }

  #space .device .device-info-edit .value-text {
    border-left: 1px solid #aaa;
    padding: 0.25em 0.5em;
  }

  #space .device .device-info-edit .value-progress {
    border-left: 1px solid #aaa;
    padding: 0 0.5em;
  }

  #space .device .device-info-edit .value-progress .progress {
    margin: 0;
  }

  #space .device .device-info-edit .dynamic-value .value {
    /* width: 10em; */
    overflow: hidden;
    text-overflow: ellipsis;
  }

  #space .device .device-img {
    text-align: center;
    position: absolute;
    top: 110%;
    /* left: 50%; */
  }

  #space .device .device-img:hover > div.img-edit,
  #space .device .device-img:hover > .img-div > div {
    display: block !important;
  }

  #space .device .device-img > div.img-edit,
  #space .device .device-img > .img-div > div {
    display: none !important;
  }

  #space .device .device-img:hover img {
    border: solid 1px #aaa;
  }

  #space .device .device-img img[src=''] {
    display: none;
  }

  #space .device .device-img img {
    /* position: relative; */
    /* left: -50%; */
    width: 100%;
    height: 100%;
  }

  #space .device .device-img table td {
    padding: 1px 2px;
  }

  #space .device .device-img table td:first-child {
    text-align: right;
  }

  #space .device .device-img table input {
    width: 40px;
  }

  /* edit */

  #space .device input[type='text'],
  select {
    height: 1.6em;
    font-size: 0.8em;
  }

  #space .device .device-title input[type='text'] {
    width: 60%;
    padding: 10px;
    margin-top: -0.1em;
    /* margin-left: 1.1em; */
  }

  #space .device .device-title input[type='text'].disabled {
    pointer-events: none;
    background-color: transparent;
    border: 0;
    color: black;
  }

  #space .device .device-info-edit .value-head a {
    margin-left: -4px;
    margin-right: 4px;
    margin-top: -3px;
  }

  #space .device .device-info-edit input[type='text'],
  select {
    width: 83px !important;
    height: 25px;
    padding: 0px 0px 0px 7px;
  }

  #space .device .device-info-edit input[type='text'][name='index'] {
    width: 48px !important;
  }

  #space .device .device-info-edit .value-text select option {
    font-size: 1em;
  }

  #space.auto-show-other-signal .device .device-info {
    display: none;
  }

  #space.auto-show-other-signal .device:hover .device-info {
    display: block;
  }

  #space .device .device-info {
    float: left;
    margin: 0.5em;
  }

  #space .device .device-info .value-head {
    padding: 0.25em 0.5em;
  }

  #space .device .device-info .value-head span {
    display: inline-block;
  }

  #space .device .device-info .value-text {
    border-left: 1px solid #aaa;
    padding: 0.25em 0.5em;
  }

  #space .device .device-info .value-progress {
    border-left: 1px solid #aaa;
    padding: 0 0.5em;
  }

  #space .device .device-info .value-progress .progress {
    margin: 0;
    width: 130px;
  }

  #space .device .device-info .dynamic-value .value {
    /* width: 10em; */
    overflow: hidden;
    text-overflow: ellipsis;
  }

  #space .device .btn.stk-delete {
    margin-top: -2px;
  }

  #save-modal textarea {
    width: 100%;
    height: 300px;
  }

  .selectDeviceName {
    display: inline-flex;
    flex-wrap: wrap;
    padding: 8px 6px;
    margin: 4px;
    /* border-bottom: 1px solid #f2f2f2; */
    width: 19%;
  }

  .selectDeviceName.machine-checked {
    box-shadow: rgb(115, 179, 229) 0px 1px 5px 1px;
    border-radius: 6px;
  }

  .selectDeviceName > a {
    margin: auto;
    font-size: 14px;
    text-align: center;
  }

  .selectDeviceName > a > span {
    font-size: 10px;
    color: #ccc;
    margin: auto;
  }

  .update-image {
    color: #202427;
    font-size: 1.2em;
  }
</style>
<script type="text/javascript">
  window.importPageScript()
</script>
